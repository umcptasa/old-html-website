{"version":3,"sources":["../../src/utils/webpack-error-parser.js"],"names":["stageCodeToReadableLabel","transformWebpackError","stage","webpackError","id","filePath","module","resource","location","error","loc","start","undefined","context","stageLabel","message","exports","Array","isArray","map","e"],"mappings":";;AAAA,MAAMA,wBAAwB,GAAG;AAC/B,sBAAqB,+BADU;AAE/B,gBAAe;AAFgB,CAAjC;;AAKA,MAAMC,qBAAqB,GAAG,CAACC,KAAD,EAAQC,YAAR,KAAyB;AAAA;;AACrD,SAAO;AACLC,IAAAA,EAAE,EAAG,OADA;AAELC,IAAAA,QAAQ,EAAEF,YAAF,aAAEA,YAAF,+CAAEA,YAAY,CAAEG,MAAhB,yDAAE,qBAAsBC,QAF3B;AAGLC,IAAAA,QAAQ,EACN,CAAAL,YAAY,SAAZ,IAAAA,YAAY,WAAZ,qCAAAA,YAAY,CAAEG,MAAd,gFAAsBC,QAAtB,MAAkCJ,YAAlC,aAAkCA,YAAlC,8CAAkCA,YAAY,CAAEM,KAAhD,wDAAkC,oBAAqBC,GAAvD,IACI;AACEC,MAAAA,KAAK,EAAER,YAAY,CAACM,KAAb,CAAmBC;AAD5B,KADJ,GAIIE,SARD;AASLC,IAAAA,OAAO,EAAE;AACPX,MAAAA,KADO;AAEPY,MAAAA,UAAU,EAAEd,wBAAwB,CAACE,KAAD,CAF7B;AAGPa,MAAAA,OAAO,EAAE,CAAAZ,YAAY,SAAZ,IAAAA,YAAY,WAAZ,oCAAAA,YAAY,CAAEM,KAAd,8EAAqBM,OAArB,MAAgCZ,YAAhC,aAAgCA,YAAhC,uBAAgCA,YAAY,CAAEY,OAA9C;AAHF,KATJ,CAeL;AACA;AACA;AACA;AACA;;AAnBK,GAAP;AAqBD,CAtBD;;AAwBAT,MAAM,CAACU,OAAP,GAAiB,CAACd,KAAD,EAAQC,YAAR,KAAyB;AACxC,MAAIc,KAAK,CAACC,OAAN,CAAcf,YAAd,CAAJ,EAAiC;AAC/B,WAAOA,YAAY,CAACgB,GAAb,CAAiBC,CAAC,IAAInB,qBAAqB,CAACC,KAAD,EAAQkB,CAAR,CAA3C,CAAP;AACD;;AAED,SAAOnB,qBAAqB,CAACC,KAAD,EAAQC,YAAR,CAA5B;AACD,CAND","sourcesContent":["const stageCodeToReadableLabel = {\n  \"build-javascript\": `Generating JavaScript bundles`,\n  \"build-html\": `Generating SSR bundle`,\n}\n\nconst transformWebpackError = (stage, webpackError) => {\n  return {\n    id: `98123`,\n    filePath: webpackError?.module?.resource,\n    location:\n      webpackError?.module?.resource && webpackError?.error?.loc\n        ? {\n            start: webpackError.error.loc,\n          }\n        : undefined,\n    context: {\n      stage,\n      stageLabel: stageCodeToReadableLabel[stage],\n      message: webpackError?.error?.message || webpackError?.message,\n    },\n\n    // We use original error to display stack trace for the most part.\n    // In case of webpack error stack will include internals of webpack\n    // or one of loaders (for example babel-loader) and doesn't provide\n    // much value to user, so it's purposely omitted.\n    // error: webpackError?.error || webpackError,\n  }\n}\n\nmodule.exports = (stage, webpackError) => {\n  if (Array.isArray(webpackError)) {\n    return webpackError.map(e => transformWebpackError(stage, e))\n  }\n\n  return transformWebpackError(stage, webpackError)\n}\n"],"file":"webpack-error-parser.js"}